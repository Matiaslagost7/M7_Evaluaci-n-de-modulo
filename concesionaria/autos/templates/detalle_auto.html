{% extends 'base.html' %}
{% load static %}

{% block title %}{{ vehiculo.nombre|default:vehiculo.modelo }} - Detalles del Vehículo{% endblock %}

{% block main_class %}with-navbar-spacing{% endblock main_class %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'autos/css/detalle_auto.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid py-5 detalle-container">
    <div class="container">
        
        <!-- Header Section -->
        <div class="text-center mb-5">
            <h1 class="display-4 fw-bold text-primary mb-3">
                <i class="fas fa-box-open me-3"></i>{{ vehiculo.nombre|default:vehiculo.modelo }}
            </h1>
            <p class="lead text-muted mb-4">
                Detalles completos del producto seleccionado
            </p>
            <hr class="w-25 mx-auto mb-4 section-divider">
            
            <!-- Back to Catalog Button -->
            <a href="{% url 'catalogo' %}" class="d-inline-block bg-primary text-white px-4 py-2 rounded-pill text-decoration-none">
                <i class="fas fa-arrow-left me-2"></i>
                <span class="fw-bold">Volver al Catálogo</span>
            </a>
        </div>

        <!-- Product Main Card -->
        <div class="row g-4 justify-content-center">
            <div class="col-lg-8 col-md-10">
                <div class="card product-detail-card h-100 shadow-lg border-0">
                    <!-- Image Container -->
                    <div class="position-relative overflow-hidden">
                        {% if vehiculo.imagen %}
                            <img src="{{ vehiculo.imagen.url }}" 
                                 class="card-img-top product-detail-image" 
                                 alt="{{ vehiculo.nombre|default:vehiculo.modelo }}">
                        {% else %}
                            <div class="card-img-top bg-gradient d-flex align-items-center justify-content-center image-placeholder">
                                <div class="text-center text-white">
                                    <i class="fas fa-box fa-5x mb-3 opacity-50"></i>
                                    <h4 class="mb-0 fw-bold">{{ vehiculo.nombre|default:vehiculo.modelo }}</h4>
                                    <p class="mb-0">Imagen no disponible</p>
                                </div>
                            </div>
                        {% endif %}
                        
                        <!-- Price Badge -->
                        <div class="position-absolute top-0 end-0 m-3">
                            <span class="badge bg-primary px-4 py-3 rounded-pill fs-5">
                                <i class="fas fa-dollar-sign me-1"></i>${{ vehiculo.precio|floatformat:2 }}
                            </span>
                        </div>
                        
                        <!-- Category Badge eliminado -->
                    </div>

                    <!-- Card Body -->
                    <div class="card-body p-4">
                        <!-- Product Title -->
                        <div class="d-flex align-items-center mb-4">
                            <div class="bg-primary rounded-circle p-3 me-3">
                                <i class="fas fa-tag text-white fa-lg"></i>
                            </div>
                            <div>
                                <h2 class="card-title mb-1 fw-bold text-dark">
                                    {{ vehiculo.nombre|default:vehiculo.modelo }}
                                </h2>
                                <!-- Categoría eliminada -->
                            </div>
                        </div>

                        <!-- Product Description -->
                        <div class="mb-4">
                            <h5 class="fw-bold">Descripción</h5>
                            <p class="text-muted">{{ vehiculo.descripcion }}</p>
                        </div>

                        <!-- Product Details (One-to-One) -->
                        <div class="mb-4">
                            <h5 class="fw-bold">Detalles Adicionales</h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><strong>Dimensiones:</strong> {{ vehiculo.detalles.dimensiones|default:"No especificado" }}</li>
                                <li class="list-group-item"><strong>Peso:</strong> {{ vehiculo.detalles.peso|default:"No especificado" }} kg</li>
                            </ul>
                        </div>

                        <!-- Tags (Many-to-Many) -->
                        <!-- Sección de atributos eliminada -->

                        <!-- Admin Actions -->
                        {% if user.is_authenticated %}
                        {# Acciones de administrador eliminadas de la vista de detalle #}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
